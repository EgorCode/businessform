# ĞŸĞ»Ğ°Ğ½ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Strapi v5

Ğ­Ñ‚Ğ¾Ñ‚ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¾Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ° ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° BizStartMaster Ğ½Ğ° Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· Strapi v5.

## ğŸ” ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
**Ğ¡Ñ‚ĞµĞº:** Vite + React + TypeScript.
**Ğ¦ĞµĞ»ÑŒ:** ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ° Ğ±ĞµĞ· Ğ¿Ğ¾Ñ‚ĞµÑ€Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….

### Ğ’Ñ‹ÑĞ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸:
1.  **NewsFeed / NewsPage**: ĞĞ¾Ğ²Ğ¾ÑÑ‚Ğ¸ Ğ·Ğ°ĞºĞ¾Ğ½Ğ¾Ğ´Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ° (3+ ÑˆÑ‚).
2.  **PracticalFAQ**: Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ "Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ ĞµÑĞ»Ğ¸..." (8 ÑˆÑ‚).
3.  **KnowledgeCategories / FeaturedArticlesGrid**: Ğ‘Ğ°Ğ·Ğ° Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€ÑĞºĞ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸ (14+ ÑˆÑ‚).
4.  **SelfEmployedCaseStudies**: ĞšĞµĞ¹ÑÑ‹ ÑƒÑĞ¿ĞµÑ…Ğ° (4 ÑˆÑ‚).

---

## ğŸš¨ ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ‚Ğ¾Ğ½ĞºĞ¾ÑÑ‚Ğ¸ Strapi v5

1.  **Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:** ĞÑ‚Ğ²ĞµÑ‚Ñ‹ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´ÑÑ‚ Ğ² Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğµ `data` Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ. ĞŸĞ¾Ğ»Ñ `attributes` Ğ‘ĞĞ›Ğ¬Ğ¨Ğ• ĞĞ•Ğ¢.
2.  **API:** Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ (`/news-items`, `/knowledge-articles`). Ğ’ÑĞµĞ³Ğ´Ğ° Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ `?populate=*`.
3.  **Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ:** ĞÑ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿ÑƒÑ‚Ğ¸. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñƒ `getStrapiMedia`.
4.  **Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:** ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ»Ğ¾Ğ³Ğ¸ Raw response Ğ¸ Transformed data Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸.
5.  **Ğ¢Ğ¸Ğ¿Ñ‹:** Ğ§Ğ¸ÑÑ‚Ñ‹Ğµ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹ Ğ±ĞµĞ· Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ `attributes`.

---

## ğŸ“‹ ĞŸĞ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ğ½ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ

### Ğ­Ñ‚Ğ°Ğ¿ 1: Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¾ âœ…)
- [x] Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ğ° `client/src/lib/strapi.ts` Ñ Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ¼ `fetchAPI`.
- [x] Ğ¢Ğ¸Ğ¿Ñ‹ Ğ² `client/src/types/strapi.ts`.
- [x] ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ `VITE_STRAPI_URL` Ğ² `.env`.

### Ğ­Ñ‚Ğ°Ğ¿ 2: Ğ‘ÑĞºĞµĞ½Ğ´ Ğ½Ğ° VPS (Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¾ âœ…)
- [x] Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Strapi v5.
- [x] ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ÑƒĞ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ CORS Ğ² `config/middlewares.ts`.
- [x] ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Host `0.0.0.0` Ğ² `config/server.ts`.
- [x] Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… SQLite Ğ² `config/database.ts`.

### Ğ­Ñ‚Ğ°Ğ¿ 3: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€ (Admin UI)
ĞÑƒĞ¶Ğ½Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ Collection Types:
1.  **`news-item`**: `title` (text), `summary` (text), `content` (blocks), `image` (media), `category` (text).
2.  **`faq`**: `question` (text), `situation` (text), `solution` (text), `tips` (json/array), `category` (enum).
3.  **`knowledge-article`**: `title`, `excerpt`, `content` (blocks), `author`, `readTime`, `tags` (json), `category` (enum), `isPopular` (bool).
4.  **`case-study`**: `name`, `role`, `niche`, `problem`, `result`, `subscription` (enum), `taxRate`, `avatar` (media).

### Ğ­Ñ‚Ğ°Ğ¿ 4: Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
- [x] **NewsFeed.tsx**: Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ñ„Ğ¾Ğ»Ğ»Ğ±ÑĞºĞ¾Ğ¼.
- [x] **PracticalFAQ.tsx**: Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ñ„Ğ¾Ğ»Ğ»Ğ±ÑĞºĞ¾Ğ¼.
- [ ] **KnowledgeCategories.tsx**: ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´ Ğ½Ğ° Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºÑƒ + Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€.
- [ ] **FeaturedArticlesGrid.tsx**: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ¾Ğ³Ğ¾ Ğ¶Ğµ API `knowledge-articles`.
- [ ] **SelfEmployedCaseStudies.tsx**: ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ·Ğ°Ğ¼ĞµĞ½Ğ° ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ½Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· Strapi.

### Ğ­Ñ‚Ğ°Ğ¿ 5: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¸ Ğ¤Ğ¸Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- [ ] ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²ÑĞµÑ… Ğ»Ğ¾Ğ³Ğ¾Ğ² Ğ² ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğ¸.
- [ ] Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹.
- [ ] Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ±Ğ¸Ğ»Ğ´ Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ° VPS.

---

## âš¡ Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞµ ÑÑ‚Ğ°Ğ¿Ğ°
1. ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ ĞºĞ¾Ğ½ÑĞ¾Ğ»ÑŒ (F12).
2. ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ»Ğ¾Ğ³Ğ¸ `ğŸ”„ [Strapi] Fetching`.
3. Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ğ¾ `âœ… Raw Response` ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ¼Ğ°ÑÑĞ¸Ğ² Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ² Ñ `documentId`.
4. Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ğ¾ Ğ½ĞµÑ‚ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº `attributes is undefined`.correct settings.

1.  **Installation Scaffolding**
    - User needs to run: `npx create-strapi-app@latest backend --quickstart`.

2.  **CORS Configuration**
    - Edit `config/middlewares.ts` in the Strapi project.
    - **Critical**: Set `origin` to allow `http://localhost:5000` (server) and `http://0.0.0.0:5000` (or whichever port Vite/Express serves).

3.  **Content Types Creation**
    - **NewsItem**: `title` (Text), `summary` (Text), `content` (Rich Text), `publishedAt` (Date), `image` (Media).
    - **FAQ**: `question` (Text), `answer` (Rich Text), `category` (Text).

---

## ğŸ”„ Phase 3: Component Integration
**Goal**: Replace static content with dynamic data.

1.  **Integration Patterns**
    - Use `useEffect` + `useState` logic (or `useQuery` since `tanstack/react-query` is installed).
    - **Rule**: Always handle `loading` and `error` states.
    - **Rule**: Use fallback content if API fails (graceful degradation).

2.  **target: `NewsFeed.tsx`**
    - Fetch from `/news-items`.
    - Map fields: `title` -> `title`, `summary` -> `summary`, `createdAt` -> `date`.

3.  **target: `PracticalFAQ.tsx`**
    - Fetch from `/faqs`.
    - Group by categories dynamically.

---

## âš¡ Phase 4: Verification & Logging
**Goal**: Ensure data flows correctly and errors are visible.

1.  **Connection Test**
    - Create a temporary `StrapiTest` component or use `App.tsx` to log a simple fetch on mount.
    - Verify logs in Console: `ğŸ”„ Fetching...`, `âœ… Raw response...`.

2.  **Error Handling Check**
    - Simulate offline Strapi server.
    - Verify app doesn't crash but shows "Unable to load content" or cached data.

---

## ğŸ“ Execution Checklist

- [ ] **Step 1**: Create `client/src/types/strapi.ts` (Types).
- [ ] **Step 2**: Create `client/src/lib/strapi.ts` (API Service).
- [ ] **Step 3**: Configure `.env`.
- [ ] **Step 4**: Provide `setup-strapi.md` guide for the user to run backend.
- [ ] **Step 5**: Migrate `NewsFeed.tsx`.

---

## ğŸš¨ Critical V5 Reminders (Self-Correction)
- **NO `attributes`**: Access `item.title`, NOT `item.attributes.title`.
- **Populate**: Always append `?populate=*` to get images/relations.
- **Arrays**: `data` in response is an array for collections.
- **Undefined Checks**: Always check `if (!item) return null;`.

Let's begin!
